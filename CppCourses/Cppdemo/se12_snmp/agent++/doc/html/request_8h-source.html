<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>AGENT++: request.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>request.h</h1><a href="request_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*_############################################################################</span>
00002 <span class="comment">  _## </span>
00003 <span class="comment">  _##  request.h  </span>
00004 <span class="comment">  _## </span>
00005 <span class="comment">  _##</span>
00006 <span class="comment">  _##  AGENT++ API Version 3.5.22c</span>
00007 <span class="comment">  _##  -----------------------------------------------</span>
00008 <span class="comment">  _##  Copyright (C) 2000-2004 Frank Fock, Jochen Katz</span>
00009 <span class="comment">  _##  </span>
00010 <span class="comment">  _##  LICENSE AGREEMENT</span>
00011 <span class="comment">  _##</span>
00012 <span class="comment">  _##  WHEREAS,  Frank  Fock  and  Jochen  Katz  are  the  owners of valuable</span>
00013 <span class="comment">  _##  intellectual  property rights relating to  the AGENT++ API and wish to</span>
00014 <span class="comment">  _##  license AGENT++ subject to the  terms and conditions set forth  below;</span>
00015 <span class="comment">  _##  and</span>
00016 <span class="comment">  _##</span>
00017 <span class="comment">  _##  WHEREAS, you ("Licensee") acknowledge  that Frank Fock and Jochen Katz</span>
00018 <span class="comment">  _##  have the right  to grant licenses  to the intellectual property rights</span>
00019 <span class="comment">  _##  relating to  AGENT++, and that you desire  to obtain a license  to use</span>
00020 <span class="comment">  _##  AGENT++ subject to the terms and conditions set forth below;</span>
00021 <span class="comment">  _##</span>
00022 <span class="comment">  _##  Frank  Fock    and Jochen   Katz   grants  Licensee  a  non-exclusive,</span>
00023 <span class="comment">  _##  non-transferable, royalty-free  license  to use   AGENT++ and  related</span>
00024 <span class="comment">  _##  materials without  charge provided the Licensee  adheres to all of the</span>
00025 <span class="comment">  _##  terms and conditions of this Agreement.</span>
00026 <span class="comment">  _##</span>
00027 <span class="comment">  _##  By downloading, using, or  copying  AGENT++  or any  portion  thereof,</span>
00028 <span class="comment">  _##  Licensee  agrees to abide  by  the intellectual property  laws and all</span>
00029 <span class="comment">  _##  other   applicable laws  of  Germany,  and  to all of   the  terms and</span>
00030 <span class="comment">  _##  conditions  of this Agreement, and agrees  to take all necessary steps</span>
00031 <span class="comment">  _##  to  ensure that the  terms and  conditions of  this Agreement are  not</span>
00032 <span class="comment">  _##  violated  by any person  or entity under the  Licensee's control or in</span>
00033 <span class="comment">  _##  the Licensee's service.</span>
00034 <span class="comment">  _##</span>
00035 <span class="comment">  _##  Licensee shall maintain  the  copyright and trademark  notices  on the</span>
00036 <span class="comment">  _##  materials  within or otherwise  related   to AGENT++, and  not  alter,</span>
00037 <span class="comment">  _##  erase, deface or overprint any such notice.</span>
00038 <span class="comment">  _##</span>
00039 <span class="comment">  _##  Except  as specifically   provided in  this  Agreement,   Licensee  is</span>
00040 <span class="comment">  _##  expressly   prohibited  from  copying,   merging,  selling,   leasing,</span>
00041 <span class="comment">  _##  assigning,  or  transferring  in  any manner,  AGENT++ or  any portion</span>
00042 <span class="comment">  _##  thereof.</span>
00043 <span class="comment">  _##</span>
00044 <span class="comment">  _##  Licensee may copy materials   within or otherwise related   to AGENT++</span>
00045 <span class="comment">  _##  that bear the author's copyright only  as required for backup purposes</span>
00046 <span class="comment">  _##  or for use solely by the Licensee.</span>
00047 <span class="comment">  _##</span>
00048 <span class="comment">  _##  Licensee may  not distribute  in any  form  of electronic  or  printed</span>
00049 <span class="comment">  _##  communication the  materials  within or  otherwise  related to AGENT++</span>
00050 <span class="comment">  _##  that  bear the author's  copyright, including  but  not limited to the</span>
00051 <span class="comment">  _##  source   code, documentation,  help  files, examples,  and benchmarks,</span>
00052 <span class="comment">  _##  without prior written consent from the authors.  Send any requests for</span>
00053 <span class="comment">  _##  limited distribution rights to fock@agentpp.com.</span>
00054 <span class="comment">  _##</span>
00055 <span class="comment">  _##  Licensee  hereby  grants  a  royalty-free  license  to  any  and   all </span>
00056 <span class="comment">  _##  derivatives  based  upon this software  code base,  that  may  be used</span>
00057 <span class="comment">  _##  as a SNMP  agent development  environment or a  SNMP agent development </span>
00058 <span class="comment">  _##  tool.</span>
00059 <span class="comment">  _##</span>
00060 <span class="comment">  _##  Licensee may  modify  the sources  of AGENT++ for  the Licensee's  own</span>
00061 <span class="comment">  _##  purposes.  Thus, Licensee  may  not  distribute  modified  sources  of</span>
00062 <span class="comment">  _##  AGENT++ without prior written consent from the authors. </span>
00063 <span class="comment">  _##</span>
00064 <span class="comment">  _##  The Licensee may distribute  binaries derived from or contained within</span>
00065 <span class="comment">  _##  AGENT++ provided that:</span>
00066 <span class="comment">  _##</span>
00067 <span class="comment">  _##  1) The Binaries are  not integrated,  bundled,  combined, or otherwise</span>
00068 <span class="comment">  _##     associated with a SNMP agent development environment or  SNMP agent</span>
00069 <span class="comment">  _##     development tool; and</span>
00070 <span class="comment">  _##</span>
00071 <span class="comment">  _##  2) The Binaries are not a documented part of any distribution material. </span>
00072 <span class="comment">  _##</span>
00073 <span class="comment">  _##</span>
00074 <span class="comment">  _##  THIS  SOFTWARE  IS  PROVIDED ``AS  IS''  AND  ANY  EXPRESS OR  IMPLIED</span>
00075 <span class="comment">  _##  WARRANTIES, INCLUDING, BUT NOT LIMITED  TO, THE IMPLIED WARRANTIES  OF</span>
00076 <span class="comment">  _##  MERCHANTABILITY AND FITNESS FOR  A PARTICULAR PURPOSE  ARE DISCLAIMED.</span>
00077 <span class="comment">  _##  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,</span>
00078 <span class="comment">  _##  INDIRECT,   INCIDENTAL,  SPECIAL, EXEMPLARY,  OR CONSEQUENTIAL DAMAGES</span>
00079 <span class="comment">  _##  (INCLUDING,  BUT NOT LIMITED  TO,  PROCUREMENT OF SUBSTITUTE  GOODS OR</span>
00080 <span class="comment">  _##  SERVICES; LOSS OF  USE,  DATA, OR PROFITS; OR  BUSINESS  INTERRUPTION)</span>
00081 <span class="comment">  _##  HOWEVER CAUSED  AND ON ANY THEORY  OF  LIABILITY, WHETHER IN CONTRACT,</span>
00082 <span class="comment">  _##  STRICT LIABILITY, OR TORT  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span>
00083 <span class="comment">  _##  IN  ANY WAY OUT OF  THE USE OF THIS  SOFTWARE,  EVEN IF ADVISED OF THE</span>
00084 <span class="comment">  _##  POSSIBILITY OF SUCH DAMAGE. </span>
00085 <span class="comment">  _##</span>
00086 <span class="comment">  _##</span>
00087 <span class="comment">  _##  Stuttgart, Germany, Thu Jan 13 00:12:31 CET 2005 </span>
00088 <span class="comment">  _##  </span>
00089 <span class="comment">  _##########################################################################*/</span>
00090 
00091 <span class="preprocessor">#ifndef request_h_</span>
00092 <span class="preprocessor"></span><span class="preprocessor">#define request_h_</span>
00093 <span class="preprocessor"></span>
00094 <span class="preprocessor">#include &lt;<a class="code" href="agent++_8h.html">agent_pp/agent++.h</a>&gt;</span>
00095 <span class="preprocessor">#include &lt;<a class="code" href="snmp__pp__ext_8h.html">agent_pp/snmp_pp_ext.h</a>&gt;</span>
00096 <span class="preprocessor">#include &lt;<a class="code" href="List_8h.html">agent_pp/List.h</a>&gt;</span>
00097 <span class="preprocessor">#include &lt;<a class="code" href="threads_8h.html">agent_pp/threads.h</a>&gt;</span>
00098 
00099 <span class="preprocessor">#ifdef _SNMPv3</span>
00100 <span class="preprocessor"></span><span class="comment">// vacm.cpp needs vacm.h and vacm_class.h</span>
00101 <span class="preprocessor">#include &lt;<a class="code" href="vacm__class_8h.html">agent_pp/vacm_class.h</a>&gt;</span>
00102 <span class="preprocessor">#endif</span>
00103 <span class="preprocessor"></span>
<a name="l00104"></a><a class="code" href="request_8h.html#a0">00104</a> <span class="preprocessor">#define DEFAULT_WRITE_COMMUNITY "public"</span>
<a name="l00105"></a><a class="code" href="request_8h.html#a1">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define DEFAULT_READ_COMMUNITY  "public"</span>
00106 <span class="preprocessor"></span>
<a name="l00107"></a><a class="code" href="request_8h.html#a2">00107</a> <span class="preprocessor">#define PHASE_DEFAULT           0</span>
<a name="l00108"></a><a class="code" href="request_8h.html#a3">00108</a> <span class="preprocessor"></span><span class="preprocessor">#define PHASE_PREPARE           1</span>
<a name="l00109"></a><a class="code" href="request_8h.html#a4">00109</a> <span class="preprocessor"></span><span class="preprocessor">#define PHASE_COMMIT            2</span>
<a name="l00110"></a><a class="code" href="request_8h.html#a5">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define PHASE_UNDO              3</span>
<a name="l00111"></a><a class="code" href="request_8h.html#a6">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define PHASE_CLEANUP           4</span>
00112 <span class="preprocessor"></span>
00113 <span class="preprocessor">#ifdef AGENTPP_NAMESPACE</span>
00114 <span class="preprocessor"></span><span class="keyword">namespace </span>Agentpp {
00115 <span class="preprocessor">#endif</span>
00116 <span class="preprocessor"></span>
00117 
00118 <span class="comment">/*--------------------------- class Request --------------------------*/</span>
00119 
00142 <span class="preprocessor">#if !defined (AGENTPP_DECL_TEMPL_ARRAY_MIBENTRY)</span>
<a name="l00143"></a><a class="code" href="request_8h.html#a7">00143</a> <span class="preprocessor"></span><span class="preprocessor">#define AGENTPP_DECL_TEMPL_ARRAY_MIBENTRY</span>
<a name="l00144"></a><a class="code" href="request_8h.html#a8">00144</a> <span class="preprocessor"></span>        <a class="code" href="agent++_8h.html#a15">AGENTPP_DECL_TEMPL</a> <span class="keyword">template</span> <span class="keyword">class </span><a class="code" href="agent++_8h.html#a14">AGENTPP_DECL</a> <a class="code" href="classArray.html">Array&lt;MibEntry&gt;</a>;
00145 <span class="preprocessor">#endif</span>
00146 <span class="preprocessor"></span>
<a name="l00147"></a><a class="code" href="classRequest.html">00147</a> <span class="keyword">class </span><a class="code" href="agent++_8h.html#a14">AGENTPP_DECL</a> <a class="code" href="classRequest.html">Request</a> {
<a name="l00148"></a><a class="code" href="classRequest.html#n0">00148</a> <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classRequestList.html">RequestList</a>;
<a name="l00149"></a><a class="code" href="classRequest.html#n1">00149</a> <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMib.html">Mib</a>;
00150 <span class="keyword">public</span>:
00151 
00152 <span class="preprocessor">#ifdef _SNMPv3</span>
00153 <span class="preprocessor"></span>
00161         <a class="code" href="classRequest.html">Request</a>(<span class="keyword">const</span> <a class="code" href="classPdux.html">Pdux</a>&amp;, <span class="keyword">const</span> NS_SNMP UTarget&amp;);
00162 <span class="preprocessor">#else</span>
00163 <span class="preprocessor"></span>
00171         <a class="code" href="classRequest.html">Request</a>(<span class="keyword">const</span> <a class="code" href="classPdux.html">Pdux</a>&amp;, <span class="keyword">const</span> NS_SNMP CTarget&amp;);
00172 <span class="preprocessor">#endif</span>
00173 <span class="preprocessor"></span>
00180         <a class="code" href="classRequest.html">Request</a>(<span class="keyword">const</span> <a class="code" href="classRequest.html">Request</a>&amp;);
00181 
00185         <span class="keyword">virtual</span> ~<a class="code" href="classRequest.html">Request</a>();
00186 
00194         <span class="keyword">virtual</span> <span class="keywordtype">boolean</span>         contains(<span class="keyword">const</span> <a class="code" href="classVbx.html">Vbx</a>&amp;);
00195 
00204         <span class="keyword">virtual</span> <span class="keywordtype">int</span>             position(<span class="keyword">const</span> <a class="code" href="classVbx.html">Vbx</a>&amp;);
00205 
00212         <span class="keyword">virtual</span> <span class="keywordtype">boolean</span>         finished() <span class="keyword">const</span>;
00213 
00222         <span class="keyword">virtual</span> <span class="keywordtype">boolean</span>         is_done(<span class="keywordtype">int</span>) <span class="keyword">const</span>; 
00223 
00232         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            finish(<span class="keywordtype">int</span>, <span class="keyword">const</span> <a class="code" href="classVbx.html">Vbx</a>&amp;);
00233 
00240         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            finish(<span class="keywordtype">int</span>);
00241 
00247         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            set_ready(<span class="keywordtype">int</span>);
00248 
00255         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            unset_ready(<span class="keywordtype">int</span>);
00256 
00265         <span class="keyword">virtual</span> <span class="keywordtype">boolean</span>         is_ready(<span class="keywordtype">int</span>) <span class="keyword">const</span>;
00266         
00274         <span class="keyword">virtual</span> <span class="keywordtype">int</span>             first_pending() <span class="keyword">const</span>;  
00275 
00282         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            error(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
00283 
00284 <span class="preprocessor">#ifdef _SNMPv3</span>
00285 <span class="preprocessor"></span>
00291         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            vacmError(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>); 
00292 <span class="preprocessor">#endif</span>
00293 <span class="preprocessor"></span>
00300         <span class="keyword">virtual</span> <a class="code" href="classVbx.html">Vbx</a>             get_value(<span class="keywordtype">int</span>);
00301 
00314         <a class="code" href="classVbx.html">Vbx</a>*                    search_value(<span class="keyword">const</span> <a class="code" href="classOidx.html">Oidx</a>&amp;) <span class="keyword">const</span>;
00315 
<a name="l00324"></a><a class="code" href="classRequest.html#a16">00324</a>         <a class="code" href="classVbx.html">Vbx</a>                     get_original_value(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i)
00325                                         { <span class="keywordflow">return</span> originalVbs[i]; }
00326 
00333         <span class="keyword">virtual</span> <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> SnmpInt32       get_syntax(<span class="keywordtype">int</span>);
00334 
00342         <span class="keyword">virtual</span> <a class="code" href="classOidx.html">Oidx</a>            get_oid(<span class="keywordtype">int</span>);           
00343 
00350         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            set_oid(<span class="keyword">const</span> <a class="code" href="classOidx.html">Oidx</a>&amp;, <span class="keywordtype">int</span>);              
00351 
00352 
<a name="l00358"></a><a class="code" href="classRequest.html#a20">00358</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  get_type()              { <span class="keywordflow">return</span> pdu-&gt;get_type(); }
00359 
<a name="l00365"></a><a class="code" href="classRequest.html#a21">00365</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   get_request_id()   { <span class="keywordflow">return</span> pdu-&gt;get_request_id(); }
00366 
<a name="l00372"></a><a class="code" href="classRequest.html#a22">00372</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   get_transaction_id()   { <span class="keywordflow">return</span> transaction_id; }
00373 
<a name="l00379"></a><a class="code" href="classRequest.html#a23">00379</a>         <span class="keywordtype">int</span>             get_error_status() { <span class="keywordflow">return</span> pdu-&gt;get_error_status(); }
00380 
<a name="l00387"></a><a class="code" href="classRequest.html#a24">00387</a>         <span class="keywordtype">int</span>             get_error_index()  { <span class="keywordflow">return</span> pdu-&gt;get_error_index(); }
00388 
<a name="l00394"></a><a class="code" href="classRequest.html#a25">00394</a>         <span class="keywordtype">void</span>            set_error_status(<span class="keywordtype">int</span> s) { pdu-&gt;set_error_status(s); }
00395 
<a name="l00402"></a><a class="code" href="classRequest.html#a26">00402</a>         <span class="keywordtype">void</span>            set_error_index(<span class="keywordtype">int</span> i)  { pdu-&gt;set_error_index(i); }
00403 
<a name="l00409"></a><a class="code" href="classRequest.html#a27">00409</a>         <span class="keywordtype">void</span>            set_transaction_id(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> id) 
00410                                                 { transaction_id = id; }
00411 
<a name="l00417"></a><a class="code" href="classRequest.html#a28">00417</a>         <span class="keywordtype">int</span>             subrequests() { <span class="keywordflow">return</span> size; }
00418 
00419 
<a name="l00426"></a><a class="code" href="classRequest.html#a29">00426</a>         <span class="keywordtype">int</span>             get_non_rep() { <span class="keywordflow">return</span> non_rep; }
00427 
<a name="l00434"></a><a class="code" href="classRequest.html#a30">00434</a>         <span class="keywordtype">int</span>             get_rep() { <span class="keywordflow">return</span> repeater; }
00435 
<a name="l00442"></a><a class="code" href="classRequest.html#a31">00442</a>         <span class="keywordtype">int</span>             get_max_rep() { <span class="keywordflow">return</span> max_rep; }
00443 
00444 
00451         <span class="keyword">virtual</span> <span class="keywordtype">boolean</span>         add_rep_row();
00452 
00462         <span class="keyword">virtual</span> <span class="keywordtype">boolean</span>         init_rep_row(<span class="keywordtype">int</span>);
00463 
00471         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            trim_request(<span class="keywordtype">int</span>);
00472 
00476         <span class="keywordtype">void</span>                    inc_outstanding();
00480         <span class="keywordtype">void</span>                    dec_outstanding();
00481 
00485         <span class="keywordtype">void</span>                    no_outstanding();
00486 
<a name="l00493"></a><a class="code" href="classRequest.html#a38">00493</a>         <a class="code" href="classPdux.html">Pdux</a>*           get_pdu() { <span class="keywordflow">return</span> pdu; }
00494 
00495 <span class="preprocessor">#ifdef _SNMPv3</span>
00496 <span class="preprocessor"></span>
00503         <span class="keywordtype">void</span>            get_security_name(NS_SNMP OctetStr&amp; s);
00504 
00511         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    get_security_model() { <span class="keywordflow">return</span> version; }
00512 
00519         <span class="keywordtype">void</span>            init_vacm(<a class="code" href="classVacm.html">Vacm</a>*, <span class="keyword">const</span> NS_SNMP OctetStr&amp;); 
00520 
00528         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> OctetStr        get_view_name()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> viewName; }
00529 
00536         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> OctetStr        get_context()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> pdu-&gt;get_context_name(); }
00537 
00545         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> UTarget*        get_address() { <span class="keywordflow">return</span> &amp;target; }
00546 
00547 <span class="preprocessor">#else</span>
00548 <span class="preprocessor"></span>
<a name="l00556"></a><a class="code" href="classRequest.html#a39">00556</a>         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> CTarget*        get_address() { <span class="keywordflow">return</span> &amp;target; }
00557 <span class="preprocessor">#endif</span>
00558 <span class="preprocessor"></span>
<a name="l00565"></a><a class="code" href="classRequest.html#a40">00565</a>         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> snmp_version    get_snmp_version() { <span class="keywordflow">return</span> version; }
00566 
<a name="l00567"></a><a class="code" href="classRequest.html#o0">00567</a>         u_char          phase;
00568 
00580         <a class="code" href="classMibEntry.html">MibEntry</a>*       get_locked(<span class="keywordtype">int</span>);
00581 
00591         <span class="keywordtype">void</span>            set_locked(<span class="keywordtype">int</span>, <a class="code" href="classMibEntry.html">MibEntry</a>*); 
00592 
00599         <span class="keywordtype">void</span>            set_unlocked(<span class="keywordtype">int</span>); 
00600 
00613         <span class="keywordtype">int</span>             lock_index(<a class="code" href="classMibEntry.html">MibEntry</a>*);
00614 
00624         <span class="keywordtype">void</span>            trim_bulk_response();
00625 
00626 <span class="preprocessor">#ifdef NO_FAST_MUTEXES</span>
00627 <span class="preprocessor"></span>
00630         <span class="keywordtype">void</span>            init_lock_queue();    
00631 
00636         <span class="keywordtype">void</span>            delete_lock_queue() 
00637             { <span class="keywordflow">if</span> (lockQueue) { <span class="keyword">delete</span> lockQueue; lockQueue = 0; } }
00638 <span class="preprocessor">#endif</span>
00639 <span class="preprocessor"></span>
00640 <span class="keyword">protected</span>:
00641 
00642         <a class="code" href="classRequest.html">Request</a>();
00643 
00644         <span class="keyword">virtual</span> <span class="keywordtype">void</span>    init_from_pdu();
00645 
00646         <span class="keywordtype">void</span>            check_exception(<span class="keywordtype">int</span>, <a class="code" href="classVbx.html">Vbx</a>&amp;);
00647 
00648         <span class="keywordtype">int</span>             get_max_response_length(); 
00649 
<a name="l00650"></a><a class="code" href="classRequest.html#p0">00650</a>         <a class="code" href="classPdux.html">Pdux</a>*           pdu;
<a name="l00651"></a><a class="code" href="classRequest.html#p1">00651</a>         <a class="code" href="classVbx.html">Vbx</a>*            originalVbs;
<a name="l00652"></a><a class="code" href="classRequest.html#p2">00652</a>         <span class="keywordtype">int</span>             originalSize;
00653 
<a name="l00654"></a><a class="code" href="classRequest.html#p3">00654</a>         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> UdpAddress      from;
<a name="l00655"></a><a class="code" href="classRequest.html#p4">00655</a>         <span class="keywordtype">boolean</span>*        done;
<a name="l00656"></a><a class="code" href="classRequest.html#p5">00656</a>         <span class="keywordtype">boolean</span>*        ready;
<a name="l00657"></a><a class="code" href="classRequest.html#p6">00657</a>         <span class="keywordtype">int</span>             outstanding;
<a name="l00658"></a><a class="code" href="classRequest.html#p7">00658</a>         <span class="keywordtype">int</span>             size;
00659 
<a name="l00660"></a><a class="code" href="classRequest.html#p8">00660</a>         <span class="keywordtype">int</span>             non_rep;
<a name="l00661"></a><a class="code" href="classRequest.html#p9">00661</a>         <span class="keywordtype">int</span>             max_rep;
<a name="l00662"></a><a class="code" href="classRequest.html#p10">00662</a>         <span class="keywordtype">int</span>             repeater;
00663 
<a name="l00664"></a><a class="code" href="classRequest.html#p11">00664</a>         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> snmp_version    version;
<a name="l00665"></a><a class="code" href="classRequest.html#p12">00665</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   transaction_id;
00666 
00667         <span class="comment">// Locks hold by a mulit-phase (SET) request</span>
<a name="l00668"></a><a class="code" href="classRequest.html#p13">00668</a>         <a class="code" href="classArray.html">Array&lt;MibEntry&gt;</a> locks;
00669 
00670 <span class="preprocessor">#ifdef _SNMPv3</span>
00671 <span class="preprocessor"></span>        <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> OctetStr        viewName;
00672         <a class="code" href="classVacm.html">Vacm</a>*           vacm;
00673         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> UTarget         target;
00674 <span class="preprocessor">#else</span>
<a name="l00675"></a><a class="code" href="classRequest.html#p14">00675</a> <span class="preprocessor"></span>        <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> CTarget         target;
00676 <span class="preprocessor">#endif</span>
00677 <span class="preprocessor"></span><span class="preprocessor">#ifdef NO_FAST_MUTEXES</span>
00678 <span class="preprocessor"></span>        <span class="keyword">static</span> LockQueue* lockQueue;
00679 <span class="preprocessor">#endif</span>
00680 <span class="preprocessor"></span>};
00681 
00682 
00683 <span class="comment">/*------------------------ class RequestList --------------------------*/</span>
00684 
<a name="l00732"></a><a class="code" href="classRequestList.html">00732</a> <span class="keyword">class </span><a class="code" href="agent++_8h.html#a14">AGENTPP_DECL</a> <a class="code" href="classRequestList.html">RequestList</a>: <span class="keyword">public</span> <a class="code" href="classThreadManager.html">ThreadManager</a> {
00733 <span class="keyword">public</span>:
00737         <a class="code" href="classRequestList.html">RequestList</a>();
00738 
00743         <span class="keyword">virtual</span> ~<a class="code" href="classRequestList.html">RequestList</a>();
00744 
00754         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            set_address_validation(<span class="keywordtype">boolean</span>);
00755         
<a name="l00763"></a><a class="code" href="classRequestList.html#a3">00763</a>         <span class="keywordtype">boolean</span>                 get_address_validation() 
00764             { <span class="keywordflow">return</span> sourceAddressValidation; }
00765 
<a name="l00771"></a><a class="code" href="classRequestList.html#a4">00771</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            set_snmp(<a class="code" href="classSnmpx.html">Snmpx</a>* session) { snmp = session; }
00772 
<a name="l00779"></a><a class="code" href="classRequestList.html#a5">00779</a>         <a class="code" href="classSnmpx.html">Snmpx</a>*                  get_snmp() { <span class="keywordflow">return</span> snmp; }
00780 
00781 <span class="preprocessor">#ifdef _SNMPv3</span>
00782 <span class="preprocessor"></span>
00787         <span class="keyword">virtual</span> <span class="keywordtype">void</span>             set_v3mp(NS_SNMP v3MP* mp) { v3mp = mp; }
00788 
00789 
00795         <span class="keyword">virtual</span> <span class="keywordtype">void</span>             set_vacm(<a class="code" href="classVacm.html">Vacm</a>* v) { vacm = v; }
00796 
00803         <span class="keyword">virtual</span> <a class="code" href="classVacm.html">Vacm</a>*           get_vacm() { <span class="keywordflow">return</span> vacm; }
00804 
00811         <span class="keyword">virtual</span> <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> v3MP*           get_v3mp() { <span class="keywordflow">return</span> v3mp; }
00812 <span class="preprocessor">#else</span>
00813 <span class="preprocessor"></span>
00819         <span class="keywordtype">void</span>                    set_read_community(<span class="keyword">const</span> NS_SNMP OctetStr&amp;);
00820 
00827         <span class="keywordtype">void</span>                    set_write_community(<span class="keyword">const</span> NS_SNMP OctetStr&amp;);
00828 
00829 <span class="preprocessor">#endif</span>
00830 <span class="preprocessor"></span>
00840         <span class="keyword">virtual</span> <a class="code" href="classRequest.html">Request</a>*                receive(<span class="keywordtype">int</span>);
00841 
00852         <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   get_request_id(<span class="keyword">const</span> <a class="code" href="classVbx.html">Vbx</a>&amp;);
00853 
00868         <span class="keyword">virtual</span> <span class="keywordtype">boolean</span>         done(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, <span class="keywordtype">int</span>, <span class="keyword">const</span> <a class="code" href="classVbx.html">Vbx</a>&amp;);
00869 
00882         <span class="keyword">virtual</span> <span class="keywordtype">void</span>            error(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
00883 
00894         <span class="keyword">virtual</span> <a class="code" href="classRequest.html">Request</a>*                get_request(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
00895 
00904         <span class="keyword">virtual</span> <a class="code" href="classRequest.html">Request</a>*                find_request_on_id(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
00905 
00912         <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    answer(<a class="code" href="classRequest.html">Request</a>*);
00913 
00914 <span class="preprocessor">#ifdef _SNMPv3</span>
00915 <span class="preprocessor"></span>
00923         <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    report(<a class="code" href="classRequest.html">Request</a>*);
00924 <span class="preprocessor">#endif</span>
00925 <span class="preprocessor"></span>
<a name="l00932"></a><a class="code" href="classRequestList.html#a15">00932</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>                   create_transaction_id() 
00933                                         { <span class="keywordflow">return</span> next_transaction_id++; }
00934 
<a name="l00941"></a><a class="code" href="classRequestList.html#a16">00941</a>         <span class="keywordtype">boolean</span>                         is_empty() { <span class="keywordflow">return</span> requests-&gt;empty();}
00942 
<a name="l00949"></a><a class="code" href="classRequestList.html#a17">00949</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>                   size() { <span class="keywordflow">return</span> requests-&gt;size(); }
00950 
00951 <span class="keyword">protected</span>:
00959         <span class="keyword">virtual</span> <a class="code" href="classRequest.html">Request</a>*                add_request(<a class="code" href="classRequest.html">Request</a>*);
00960 
00970         <span class="keyword">virtual</span> <span class="keywordtype">boolean</span>         community_ok(<span class="keywordtype">int</span>, <span class="keyword">const</span> NS_SNMP OctetStr&amp;);
00971 
00986         <span class="keyword">virtual</span> <span class="keywordtype">void</span>    authenticationFailure(<span class="keyword">const</span> NS_SNMP OctetStr&amp; context,
00987                                               <span class="keyword">const</span> NS_SNMP GenAddress&amp; sourceAddress,
00988                                               <span class="keywordtype">int</span> status);
00989 
00995         <span class="keyword">static</span> <span class="keywordtype">void</span>     null_vbs(<a class="code" href="classRequest.html">Request</a>* req);
00996         
<a name="l00997"></a><a class="code" href="classRequestList.html#p0">00997</a>         <a class="code" href="classList.html">List&lt;Request&gt;</a>*          requests;
<a name="l00998"></a><a class="code" href="classRequestList.html#p1">00998</a>         <a class="code" href="classSnmpx.html">Snmpx</a>*                  snmp;
00999 <span class="preprocessor">#ifdef _SNMPv3</span>
01000 <span class="preprocessor"></span>        <a class="code" href="classVacm.html">Vacm</a>*                   vacm;
01001         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> v3MP*                   v3mp;
01002 <span class="preprocessor">#endif</span>
<a name="l01003"></a><a class="code" href="classRequestList.html#p2">01003</a> <span class="preprocessor"></span>        <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> OctetStr*               write_community;                
<a name="l01004"></a><a class="code" href="classRequestList.html#p3">01004</a>         <a class="code" href="snmp__pp__ext_8h.html#a1">NS_SNMP</a> OctetStr*               read_community;         
01005 
<a name="l01006"></a><a class="code" href="classRequestList.html#p4">01006</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>           next_transaction_id;
01007 
<a name="l01008"></a><a class="code" href="classRequestList.html#p5">01008</a>         <span class="keywordtype">boolean</span>                 sourceAddressValidation;
01009 };
01010 
01011 <span class="preprocessor">#ifdef AGENTPP_NAMESPACE</span>
01012 <span class="preprocessor"></span>}
01013 <span class="preprocessor">#endif</span>
01014 <span class="preprocessor"></span>
01015 
01016 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Jan 13 00:13:07 2005 for AGENT++ by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
